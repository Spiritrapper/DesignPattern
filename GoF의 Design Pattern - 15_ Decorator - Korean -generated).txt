[음악]

아

안녕하세요

고프 의 디자인 패턴 점 데커 레이터

패턴에 대해서 살펴보겠습니다

데코레이터 는 양식하는 사람 이란

뜻이구요 객체의 기능을 마치 장식처럼

계속 붙일 수 있는 패턴입니다

또한 실행중에 동적 으로 기능을 붙일

수 있어서 소프트웨어에 확장성이 매우

높아집니다

여기 그림이 있는데요

기본적인 소나무가 있구요 이 소나무의

여러가지 장식을 붙여서 화려한

크리스마스 트리를 만들어 내고 있는

그림인데요

데코레이터 패턴 에 대한 개념과

유사합니다

100 크레이터 패턴에 대한 클래스

다이어그램 예시입니다

먼저 스트링스 는 문자열을 여러개

가지고 있는 클래스 이구요

장식할 대상이 되는 내용물에

해당합니다

그리고 데커 레이터 클래스 는 이

스트링스 에 대한 장식 을 나타내는

클래스 이구요

이 데커 레이터 클래스를 상속받는

이 3개의 클래스가

구체적인 장식을 부여 난 클래스입니다

그런데 여기서 스트링스 와 데

크레이터 는 아이템 추상 클래스를

상속받고 있는데요

2 아이템 클래스가 두 개의 서로

다른 개념을 하나의 개념으로 달 수

있는 장치가 됩니다

즉 스트링스 는 아무런 장식이 없는

원래의 대응 무기고 2 내용물에

여러가지 장식을 추가 하게 되는데요

원래의 뇌물과 장식이 2 아이템

클래스를 상속 밖에 함으로써 내용물과

장식에 대한 9분이 사라지게 되고 이

둘을 마치 동일한 개념으로 다를 수

있게 됩니다

데코레이터 클래스를 상속 받는 자 실

클래스들이 구체적으로 어떤 잠식을

하는지 살펴보도록 하겠습니다

먼저 장식의 대상이 되는 원래의

내용물에 대한

2

스트링 쓰는 다음처럼 4개의 문자열로

구성되어 있다고 가정하겠습니다

출력을 해보면 이렇게 출력이 되구요

그리고 장식의 해당하는 사이드

데코레이터 는 이 대응 물에 대해서

왼쪽과 오른쪽에

지정된 문자를 붙여 줍니다

여기서는 쌍 따옴표 가 됩니다

그리고 박스 데코레이터 는 원래의

내용물을 완전히 감싸는

경계에 상자를

장식으로 붙여줍니다

그리고 라인 넘버 데코레이터 는 보는

것처럼

분자 열애 숫자를 붙여줍니다

이제 이 클래스 다이어그램을 구현해

보도록 했습니다

먼저 아이템 클래스입니다

이 클래스는 추상 클래스입니다

그리고 다음과 같은 추상 메서드를

가집니다

켓 라인스 카운트는 문자열이 몇 줄이

인지를 발언 하구요

이 그림을 예시로 설명하면

스트링스 의 경우 살을 방 하구요

박스 데코 레테 경우 6을 바랍니다

켓 맥스 랭 승은 문자 일 중 가장

긴 분자 열의 길이를 반응합니다

스트링 3 경우에

디자인 패턴 리스 파워풀 툴이 라는

분 짜여 래치를 바라구요

캣 랭스 는 지정된 인덱스의 문자열의

길이를 바랍니다

객 스트링은 지정된 인덱스의 문자열을

반 납니다

인덱스는 영이 시작 값입니다

그리고 분 짜여 를 출력해주는 메쎄

대인 프린트가 있습니다

보시면 순서대로 문자열이 를 얻어와서

출력해 주고 있습니다

암은 스트링스 클래스입니다

이 클래스 는 장식 될 실제 내용물에

해야하는데요

아이템 클래스를 3속 받구요

문자열을 저장할 배열 필드를 추가

함이라

그리고 이 스트링스 필드에

문자열을 추가하는 메서드를 추가합니다

이제 부모 클래스의 추상 메서드를

구현합니다

캣 라인스 카운트는 문자 10일

개수를 반환 해주구요

켓 맥스 랭스 는 구성 분 짤 중에서

가장 긴 분 짜여 를 찾아서 그 분자

열에 길이를 반환합니다

캣 갱스 는 인자로 받은 인덱스에

해당하는 분자 열의 길이를 반환합니다

갯 스트링은 인자로 받은 인덱스에

해당하는 문자열의 를 바랍니다

이제 기능을 확장해 주는 장치 기대

안 데코레이터 클래스를 추가하겠습니다

아이템 클래스를 상속 받도록 하구요

장식을 해야 할 대상이 되는 필드를

추가합니다

장식의 대상이 되는 타입이

아이템인데요 즉 아이템 을 상속받는

모든 클래스 에 대한 객체를 장식할

수 있습니다

같은 말이지만 다르게 설명하면 요

장식을 원래 내용물에 대해서도 할 수

있구요

또 장식 에 대해서도 장식을 할 수

있다는 것입니다

생성자를 통해서

2 아이템 필드를 지정할 수 있도록

합니다

아이템에 대한 추상 메서드를 아직

구현하지 않았으므로 이 클래스도

추상 클래스 로 지정해야 합니다

이제 데코레이터 를 상속받는 사이드

데코레이터 클래스를 추가합니다

데코레이터 를 3속 받구요

이 클래스 는 문자열의 왼쪽과

오른쪽에 어떤 하나의 문자를 붙여

주는데요

저술 분 짜 에 대한 필드를

추가합니다

생성자를 추가 하구요

으

2ch 필드를 생성자에서 지정할 수

있도록 하겠습니다

그리고 구현 해야 할 추상 메서드를

추가합니다

으

겟 라인스 카운트 메서드 는 장시

대상이 되는 문자열의 개수를

반환합니다

객 맥스의 랭스 메서드 는 장식

대상이 되는 문자열의 왼쪽과 오른쪽에

문자 1개씩의 부자 주므로

1을 더해서 바랍니다

켓 랭스 ms 도 마찬가지구요

켓 스트링은 장식 대상이 되는 문자열

좌 우의

ch 필드 값을 붙여서 바랍니다

암은 박스 데코레이터 클래스를

추가합니다

데코레이터 클래스를 상속받아

들어가구요

생성자를 추가합니다

구현 해야 할 추상 메서드를

추가합니다

갯 라인스 카운트 메서드에 코드

정상에 보면요

박스 데코레이터 는 장씨 대상이 되는

문자를 개수보다

2개가 더 드러나게 되는데요

그래서 갤 라인스 카운트는

장치 대상이 되는 문자를 개수 해서

1을 더해서 바랍니다

겟 맥스 일행 승 에서 드는 장시

대상이 되는 가장 긴 문자에 대해서

1을 더해서 바랍니다

캣 랭스 베스 도 마찬가지구요

캐스트 링 메서드의 코트를 작성합니다

처음과 마지막 문자에 대해서는

장식에 대한 경계 상자의 위 아래에

해당하는 수평선에 해당하는 문자열을

만들어서 반원 해주고요

바로 이

선을 말합니다

그리고 처음과 마지막 문자열이 아닌

경우에는요

장시 대상이 되는 문자열 좌 우의

경계에 문자를 적절하게 붙여서 반

해집니다

경계를 위한 문자를 적절하게 붙여

주기 위해서 이 메이크 테이스트

이라는 메서드를 사용하고 있는데요

이 메이크 테이 스트링 메서드는 다음

것 같습니다

다음은 라인 넘버 데 크 레이트

클래스입니다

데코레이터 를 상속 받도록 하구요

코드는 다음과 같습니다

앞서 본 사이드 댓글 더 와 박스

데코레이터 와 유사한 방식으로 코드를

작성했는데 요 코드에 대한 설명은

생략하겠습니다 하지만 여러분은 한

줄씩 직접 분석해 보시기 바랍니다

이제

지금까지 작성한 클래스를 테스트해

보겠습니다 먼저 메인 엔트리 클래스를

추가합니다

메인 함수를 추가합니다

장식 대상이 되는 스트링스 객체를

하나 정의합니다

그리고 4개의 분 짜여 를 이

스트링스 객체에 추가합니다

출력을 해보면 요

이제 여기에 기능을 장식처럼 추가해

보겠습니다 먼저 사이드 데코레이터

입니다

실행을 해보면 요

다음은 라인 넘버 데코레이터 입니다

실행을 해보면 요

이번에는 박스 데코레이터 입니다

실행을 해보면 요

실습을 통해 확인한 것처럼 데코레이터

패턴을 적용하면 기능을 수행 중에 즉

동적 으로 매우 유연하게 확장할 수

있었습니다

장식은 앞서 본 지수 처럼 시각적인

기능 뿐만 아니라 시각적 이지아는

기능 동 데코레이터 패턴을 적용할 수

있습니다

쌍으로 데커 레이더 패턴에 대해서

살펴보았습니다

