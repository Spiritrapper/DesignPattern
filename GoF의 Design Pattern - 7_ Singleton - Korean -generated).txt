[음악]

아

안녕하세요

고 포의 디자인 패턴 중 싱글턴 패턴

에 대해서 살펴보겠습니다

싱글톤 패턴은 하나의 클래스 타입의

대해서 오직 하나의 객체만 이

생성되도록 보장해주는 패턴입니다

그림을 보시면

있 옥색 동그라미가 싱글턴 패턴이

적용된 클래스 의 객체 인데요

다른 모든 클래스 객체 에서 2 싱글

턴 패턴이 적용된 객체에 접근할 수

있으나 다른 클래스에서는 2 Singleton

클래스의 객체를 생성할 수는 없습니다

싱글턴 패턴을 클래스 다이어그램으로

나타내면 다음과 같습니다

다른 클래스 간의 관계에 대한 표현은

없구요

이 킹 클래스 는 Singleton 패턴이

적용되어 따라 는 의미로 스테레오

타입으로

Singleton 이라고 명시 되어져 있습니다

코드로 작성해 보면요 Singleton 패턴을

적용할 클래스인 킹을 추가하겠습니다

생성자는 private 로 지정해서

나 자신이 후에 어떤 곳에서도

생성자를 호출할 수 없도록 합니다

오직 1개만 생성도 의 하므로 그

1개 생성될 객체에 대한 self 필드를

정의합니다

오직 자기 자신만의 이 필드에 접근할

수 있도록 하기 위해서 private

로 지정하고 요

대신 클래스의 이름으로 접근할 수

있도록 정적 필드 로 정리하기 위해서

static 으로 지정했습니다

그리고 겟 인스턴스 라는 메소드를

통해서

클래스 차원에서 이 셀 프 필드를

얻을 수 있도록 합니다

이 메서드 역시 클래스 이름으로

접근할 수 있도록 정적 메서드로

정리하기 위해서

static 으로 지정 되었구요

싱크로나이즈 로 지정된 이유는

멀티쓰레드 해서 이 베스 들로 추출할

때 문제가 없도록 동기화 하기

위함입니다 싱글 스레드 환경에서 이

클래스가 사용될 때는 굳이 이 싱크로

라이즈 드 와 같은 동기화 를 지정할

필요가 없습니다

입에서 드에 코드를 보면요

먼저 self 가 null이라면

자기 자신의 생성에서

2

self 필드에 생성 객체를 할당합니다

그리고

self을 다시 발언 해주고요

즉 한번도 2개 3 인스턴스 메서드가

호출되지 않으면 이 클래스의 객체는

단 한개도 생성되지 않을 것입니다

그리고 e 클래스 객체에서 제공하는

s 들을 정리합니다

이렇게 한 개만 추가 있구요

이 킹 클래스를 사용해 보겠습니다

메인 엔트리 클래스를 추가 구요

메인 함수를 추가합니다

그리고 킹 객체를 생성하기 위해서

다음 코드를 입력합니다

수행을 해 보면요

보시는 것처럼

킹 클래스 의 생성자에 접근할 수

없다 라는 에러가 발생합니다

이 코드 대신에 다음 코드로 입력해야

하구요

이렇게 어두운 킴 객체를 통해서

일반적인 여타 다른 클래스 객체 처럼

사용할 수 있습니다

생성의 보면요

네 다음 같습니다

추가적으로 킹 클래스 의 겟 인스턴스

메서드를 다시 호출 했을 때 반환되는

객체가

이전에 반환된 개체와 동일한지 확인해

보겠습니다

실행이 보면요

보시는 것처럼 같은 객체 라고

표시되는 것을 확인할 수 있습니다

이상으로 고프 의 디자인 패턴 중

싱글 리턴 패턴에 대해서

살펴보았습니다

