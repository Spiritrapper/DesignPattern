[음악]

아

안녕하세요

고 포의 디자인 패턴 중 없죠 뭐

패턴에 대해서 살펴보겠습니다

업적 번은 관찰자 라는 뜻인데요 어떤

상태가 변경되었을 때 이 상태의 변경

에 관심이 있는 관찰 자들에게

알려주는 패턴입니다

그림에서 보는 것처럼 어떤 대상이

있구요

이 대상에 대한 상태에 관심을 갖고

있는 4개의 관찰자가 있습니다

상태가 변경되면 요 이 대상은 관찰자

에게 자신의 상태가

변경되었음을 알립니다

이 없자 패턴에 대한 클래스

다이어그램의 한 예를 보겠습니다

이 다이스 게임은 주사위 게임을

나타내는 클래스 입니다

이 다이스 게임은 주사위 게임에

참가하는 이 플레이어 클래스의 객체를

여러개 추가할 수 있고요 바로 이선희

여러 개의 플레이어 객체를 다이스

게임 객체가 가질 수 있음을

나타냅니다

다이스 게임은 주사위를 던지면 주사

예수를 게임이 참가한 플레이어에게

알리는 데 요

던진 주사위 예수가 바로 상태의 변화

에 해당합니다

다이스 게임은 추상 클래스 인데요

던져 나온 주 사이에 수를 결정하는

방법을 다양하게 구현하기 위해서 주상

클래스 로 정의했습니다

페어 다이스 게임은

아이스 게임을 상속 봤는데요 이 페어

다이스 게임 클래스 는 주사위를

1부터 6까지 의 수가 공평하게

나오도록 결정되므로 구현합니다

플레이어 역시 추상 pls 인데요

던져서 나온 주 사이에 수에 따라서

처리되는 코드 구현 을 다양하게 하기

위해서 추상 클래스 로 하였습니다

2 플레이어 클래스를 상속받는 플랫은

은

오드 베팅 플레이어와 입은 베팅

플레이어 인데요

오드 베팅 플레이어는 주사위가 홀수가

나왔을 때 에 대해서 반응 하구요

2분 베팅 플레이어는 짝수가 나왔을

때 에 대해서 반응합니다

이 클래스 다이어그램을 구해보도록

하겠습니다 먼저 플레이어 추상

클래스입니다

이 클래스 는 플레이어의 이름을 킬

들어가집니다

생성자에서 이름 필드에 값을 저장할

수 있도록 하구요

그리고 이름 필드를 얻을 수 있는

메서드를 추가합니다

마지막으로 상태 변화에 대해

플레이어가 어떻게 처리할 지에 대한

주상 * 3rd 를 추가 할 건데요

상태의 변화는 주사 이의수 입니다

주 사이에 수를 메서드의 인자로

받도록 합니다

다음은 다이스 게임 추상 클래스입니다

게임이 참가하는 플레이어들을 저장할

수 있는 플레이어 리스트 필드를

추가합니다

프로텍티브 섞은 자 로 지정해서 자식

클래스 에서도 이 필드에 접근할 수

있도록 합니다

그리고 플레이어 객체를 추가할 수

있는 메서드를 추가합니다

마지막으로

주사위를 던져 주 사이에 수를 변경할

수 있는 플레이 추상 메서드를

추가합니다

이제 이 다이스 게임 을 상속받는

페어 다이스 게임 클래스를 추가합니다

다이스 게임을 상속 받도록 하구요

주사 예수를 무작위로 결정하기 위해서

랜덤 필드를 나 추가합니다

부모 클래스의 구현 해야 할 추상

메서드를 추가합니다

랜덤 필드 를 이용해서 1부터 6까지

난 술 얻고 그 값을 화면에

출력합니다

플레이어 리스트에 추가된 플레이어

객체들을 하나씩 순회하면서

플레이어의 업데이트 메소드를 호출해

주는 데요

주 사이에 수를

업데이트 메서드에 인자로 남겨주고

있습니다

이제

플레이어 추상 클래스를 상속받는

오드 베팅 플레이어 클래스를

추가합니다

플레이어를 상속 받도록 하구요

생성자를 추가합니다

그리고 부모 클래스의 추상 메서드를

추가합니다

이 오드 배팅 플레이어 클래스 는 주

사이에 수가 볼수 일대 자신이

이겼다는 메시지를 출력하도록 합니다

다음은 2분 베팅 플레이어

클래스입니다

플레이어 클래스를 상속 받도록 하구요

생성자를 추가합니다

그리고 부모 클래스의 추상 메서드를

추가합니다

이 2분 배팅 플레이어는 주사 예수가

짝수 일 때 자신이 이겼다는 메세지를

출력합니다

이제 지금까지 만든 클래스를

테스트해보기 위해서 메인 엔트리

클래스를 추가합니다

메인 함수를 추가합니다

먼저 공평한 주 3 게임을 위한 페어

다이스 게임 객체를 생성 하구요

3명의 플레이어 를 생성합니다

각 플레이어 이름은

짝 술에 배 칭한 짝꿍 대위와 홀수의

베팅한 홀아비 와 풀 죽 입니다

이 세명을 다이스 게임의 추가합니다

총 5번의 주사위를 던져 봅니다

실행결과를 보면 요

다음처럼 주사 예수가 변경되면 그에

맞게 각 플레이어가 반응을 하고

있습니다

이제 이 주사의 게임을 확장 해보도록

하겠습니다

지금까지는

이 페어 다이스 게임 클래스를 통해서

주사위가 1부터 6까지 공평하게 결정

되었는데요 새로운 방법으로 특정한

수가 다른 수에 비해서 더 많이

나오도록 조작하는 주사위 게임이

필요합니다

그러면 이 다이스 게임 을 상속받는

언 폐와 다이스 게임 이라는 클래스를

추가 하구요

그리고 이 언페어 다이스 게임에서 주

사이에 수를 결정하는 플레이 추상

메서드를

특정한 수가 더 많이 나오도록

구현하면 됩니다

그리고 지금까지는 플레이어가

짝 수나 홀수의 대해서만 베팅할 수

있었는데요

이제는 특정한 수를 지정해서 베팅할

수 있는 플레이어도 추가할 수

있습니다

이 플레이에 대한 클래스를 n 베팅

플레이어 라고 하겠습니다

2n 베팅 플레이어 클래스의 생성자에

베팅할 수 있는 수를 인자로 받아서

가지고 있다가

업데이트 추상 메서드를 주사위 수가

자신이 베팅한 수 와 일치하는지 확인

에 처리해 주도록 구현해 주면 됩니다

이상으로 어떤 상태가 변경되었을 때

이 변화에 관심이 있는 관찰 자들에게

알려주는 없자 베타 에 대해서

살펴보았습니다

